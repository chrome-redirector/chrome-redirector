<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;
                                             charset=utf-8">
    <title i18nT="PAGE-TITLE"></title>
    <script src="/js/common.js" type="text/javascript"></script>
    <script src="/js/i18n.js" type="text/javascript"></script>
    <script src="/js/pref.js" type="text/javascript"></script>
    <script src="/js/rule.js" type="text/javascript"></script>
    <script src="/js/options.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/css/options.css" type="text/css">
  </head>

  <body onload="onInit()">
    <div id="box">
      <!-- Navigation bar -->
      <div id="navBar">
        <h1 i18nT="NAVBAR-TITLE"></h1>

        <ul id="navTags">
          <li id="prefTag" class="navTag navTagSel"
              i18nT="NAVBAR-PREF"></li>
          <li id="ruleMgrTag" class="navTag" i18nT="NAVBAR-RULEMGR">
          </li>
          <li id="docTag" class="navTag" i18nT="NAVBAR-DOC"></li>
        </ul>
      </div>

      <!-- The main display part -->
      <div id="main">
        <!-- Page for Preferences -->
        <div id="pref" class="mainview-sel">
          <h1 i18nT="PREF-TITLE"></h1>

          <!-- Language settings -->
          <section>
            <h3>Language</h3><br />

            <select id="langSel">
              <option>Change language...</option>
            </select>
          </section>

          <!-- Proto settings -->
          <section>
            <h3 i18nT="PROTO-TITLE"></h3><br />

            <input type="checkbox" id="pref_proto_all"
                   onclick="myPref.onChgProto('all')" />
            <label i18nT="PROTO-ALL"></label><br />
            <input type="checkbox" id="pref_proto_http"
                   onclick="myPref.onChgProto('http')" />
            <label>HTTP://</label><br />
            <input type="checkbox" id="pref_proto_https"
                   onclick="myPref.onChgProto('https')" />
            <label>HTTPS://</label><br />
            <input type="checkbox" id="pref_proto_ftp"
                   onclick="myPref.onChgProto('ftp')" />
            <label>FTP://</label><br />
            <input type="checkbox" id="pref_proto_file"
                   onclick="myPref.onChgProto('file')" />
            <label>FILE://</label><br />
          </section>

          <!-- Context menu settings -->
          <section>
            <h3 i18nT="CONTEXT-TITLE"></h3><br />
            <input type="checkbox" id="pref_context_link"
                   onclick="myPref.onChgContext()" />
            <label i18nT="CONTEXT-LINK"></label><br />
            <input type="checkbox" id="pref_context_page"
                   onclick="myPref.onChgContext()" />
            <label i18nT="CONTEXT-PAGE"></label><br />
          </section>

          <!-- Misc settings -->
          <!-- <section> -->
          <!--   <h3 i18nT="MISC-TITLE"></h3><br /> -->
          <!-- </section> -->
        </div>

        <!-- Page for rules -->
        <div id="ruleMgr" class="mainview">
          <h1 i18nT="RULEMGR-TITLE"></h1>
          <!-- Rules list -->
          <section>
            <h3 i18nT="LBL-TITLE"></h3>

            <div class="div-center">
              <input type="button" i18nP="value:BTN-ADD"
                     onclick="ruleList.add()" />
              <input type="button" i18nP="value:BTN-EDIT"
                     onclick="ruleList.edit()" />
              <input type="button" i18nP="value:BTN-DEL"
                     onclick="ruleList.del()" />
              <input type="button" i18nP="value:BTN-UP"
                     onclick="ruleList.move(-1)" />
              <input type="button" i18nP="value:BTN-DOWN"
                     onclick="ruleList.move(1)" />
            </div>

            <table id="ruleListTable">
              <colgroup>
                <col width="4%">
                <col width="24%" span="4">
              </colgroup>
              <tr>
                <th i18nT="LBL-NAME" colspan="2"></th>
                <th i18nT="LBL-MATCH"></th>
                <th i18nT="LBL-SUB"></th>
                <th i18nT="LBL-REPL"></th>
              </tr>
            </table>
          </section>

          <!-- Backup rule list -->
          <section>
            <h3 i18nT="RULEMGR-BAK-TITLE"></h3>

            <textarea id="ruleMgr_bak"></textarea><br />
            <div class="div-center">
              <input type="button" i18nP="value:BTN-BAK"
                     onclick="ruleList.bak()" />
              <input type="button" i18nP="value:BTN-RESTORE"
                     onclick="ruleList.restore()" /><br />
            </div>
          </section>
        </div>

        <!-- Page for docs -->
        <div id="doc" class="mainview">
          <h1 i18nT="DOC-TITLE"></h1>

          <section>
            <a href="/html/en.html" target="_blank">
              English</a>
            <br />
            <a href="/html/zh_CN.html" target="_blank">
              中文（简）</a>
            <br />
          </section>
        </div>
      </div>
    </div>

    <!-- Rule Editor -->
    <div id="layerFront">
      <section>
        <!-- Predefined rule selector -->
        <select id="ruleEdit_sel">
          <option i18nT="RULEEDIT-CURRENT"></option>
        </select><br />

      <!-- Main form -->
      <form id="ruleEdit" onsubmit="return false;">
        <!-- Rule name -->
        <label i18nT="LBL-NAME"></label><br />
        <input id="ruleEdit_name" class="input-text"
               placeholder="NAME" required autofocus="autofocus" />
        <br />

        <!-- Match pattern -->
        <label i18nT="LBL-MATCH"></label>
        <select id="ruleEdit_matchtype"
                onchange="ruleList.onChgMatchType()">
          <option selected="selected" i18nT="TYPE-REGEXP">
          </option>
          <option i18nT="TYPE-GLOB"></option>
          <option i18nT="TYPE-MANUAL"></option>
        </select>
        <input type="checkbox" id="ruleEdit_matchcase" />
        <label class="lab-tiny" i18nT="LBL-IGNCASE"></label>

        <input id="ruleEdit_matchstr" class="input-text"
               placeholder="MATCH PATTERN" required />
        <br />

        <!-- Substitution -->
        <label i18nT="LBL-SUB"></label>
        <select id="ruleEdit_subtype"
                onchange="ruleList.onChgSubType()">
          <option selected="selected" i18nT="TYPE-REGEXP">
          </option>
          <option i18nT="TYPE-GLOB"></option>
          <option i18nT="TYPE-BLOCK"></option>
        </select>
        <input type="checkbox" id="ruleEdit_subcase" />
        <label class="lab-tiny" i18nT="LBL-IGNCASE"></label>
        <input type="checkbox" id="ruleEdit_subglob" />
        <label class="lab-tiny" i18nT="LBL-SUBGLOB"></label>

        <input id="ruleEdit_substr" class="input-text"
               placeholder="SUB STRING/REGEXP" required />
        <br />

        <!-- Replacement -->
        <label i18nT="LBL-REPL"></label>
        <input type="checkbox" id="ruleEdit_replDecode" />
        <label class="lab-tiny" i18nT="LBL-REPLDECODE">
        </label>

        <input id="ruleEdit_repl" class="input-text"
               placeholder="REPLACEMENT" />
        <br />

        <!-- Save/Cancel buttons -->
        <div class="div-center">
          <input type="submit" i18nP="value:BTN-SAVE"
                 onclick="ruleList.save()" />
          <input type="button" i18nP="value:BTN-CANCEL"
                 onclick="ruleList.discard()" />
        </div>
        <hr />
      </form>

      <!-- Test form -->
      <form onsubmit="return false;">
        <section>
          <label i18nT="LBL-TEST"></label>
          <input id="ruleEdit_test" class="input-text"
                 placeholder="TEST URL" required />
          <br />
          <div class="div-center">
            <input type="submit" i18nP="value:BTN-TEST"
                   onclick="ruleList.test()" />
          </div>
          <br />
        </section>
      </form>
    </div>

    <!-- Mask layer -->
    <div id="layerBack"></div>

    <!-- Notification layer -->
    <div id="layerNotif" onclick="this.className=''">
      <div  class="div-center">
        <div id="layerNotif_disp"></div>
      </div>
    </div>
  </body>
</html>
